{
  "type": "function",
  "function": {
    "name": "fabric_data",
    "description": "Execute SQL queries directly against Fabric SQL endpoint (warehouses, lakehouses). Returns inline results for queries with <= MAX_ROWS_INLINE rows. For larger datasets, suggests using sql_to_csv tool to get downloadable CSV. Supports standard T-SQL syntax.",
    "parameters": {
      "type": "object",
      "properties": {
        "reasoning": {
          "type": "string",
          "description": "Explain your intent: Why are you executing this query? What question is the user asking? For example: 'User wants to see account balances to identify top performers' or 'User needs revenue breakdown by region for Q4 analysis'"
        },
        "query": {
          "type": "string",
          "description": "T-SQL query to execute against Fabric SQL endpoint. Examples: 'SELECT DISTINCT Category FROM Products ORDER BY Category', 'SELECT TOP 5 AccountName, ClosingBalance FROM Accounts ORDER BY ClosingBalance DESC', 'SELECT Region, SUM(Revenue) as TotalRevenue FROM Sales WHERE Quarter = 4 GROUP BY Region'"
        }
      },
      "required": ["reasoning", "query"]
    }
  }
}
