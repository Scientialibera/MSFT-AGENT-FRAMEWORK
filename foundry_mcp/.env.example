# ============================================================================
# Fabric Data Agent MCP Server - Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values.
# DO NOT commit .env to version control.

# ============================================================================
# MCP Server Configuration
# ============================================================================
# Enable the MCP server (set to True to start the server)
ENABLE_MCP_SERVER=True

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# Agent Configuration
# ============================================================================
# Name of the Foundry agent to use/create (exact name as shown in Foundry UI)
FOUNDRY_AGENT_NAME=SmartSCMFabricAgenttemplate

# Path to system prompt file (relative to project root)
FOUNDRY_SYSTEM_PROMPT_FILE=config/orchestrator/system_prompt.txt

# ============================================================================
# Azure OpenAI Configuration (LLM Backbone)
# ============================================================================
# The Azure OpenAI endpoint URL where your models are deployed
AZURE_OPENAI_URL=https://your-resource.openai.azure.com/

# API key for authentication
# Optional if using Azure CLI (az login) or Managed Identity
# For local development, you can set this OR use "az login" for auth
AZURE_OPENAI_API_KEY=your-azure-openai-api-key-here

# The deployment name of your chat/language model in Azure OpenAI
AZURE_AI_MODEL_DEPLOYMENT_NAME=gpt-4

# OpenAI API version (should be recent, e.g., 2024-10-01-preview)
MODEL_VERSION=2024-10-01-preview

# ============================================================================
# Azure AI Foundry Configuration (Agent Orchestration)
# ============================================================================
# Your Azure AI Foundry project endpoint
# Format: https://YOUR_REGION.ai.azure.com/api/projects/YOUR_PROJECT_ID
AZURE_AI_FOUNDRY_URL=https://YOUR_REGION.ai.azure.com/api/projects/YOUR_PROJECT_ID

# ============================================================================
# Fabric Data Agent Connection (REQUIRED)
# ============================================================================
# The Fabric Data Agent connection ID from your Azure AI Foundry project
# This is the registered connection that links to your Fabric workspace
# Format: /subscriptions/YOUR_SUB_ID/resourceGroups/YOUR_RG/providers/Microsoft.CognitiveServices/accounts/YOUR_ACCOUNT/projects/YOUR_PROJECT/connections/CONNECTION_NAME
FOUNDRY_FABRIC_RESOURCE_ID=/subscriptions/YOUR_SUBSCRIPTION_ID/resourceGroups/YOUR_RESOURCE_GROUP/providers/Microsoft.CognitiveServices/accounts/YOUR_ACCOUNT/projects/YOUR_PROJECT/connections/FabricDataAgent

# ============================================================================
# Optional: Azure Authentication (if not using API_KEY or CLI)
# ============================================================================
# DefaultAzureCredential will try these in order:
# 1. Environment variables (below)
# 2. Azure CLI cached credentials (az login)
# 3. Managed Identity (in Azure App Service)
# 4. Interactive browser login

# Service Principal authentication (alternative to API key)
# Only needed if not using API key or Azure CLI
# AZURE_CLIENT_ID=your-client-id
# AZURE_CLIENT_SECRET=your-client-secret
# AZURE_TENANT_ID=your-tenant-id

# Explicit subscription ID (optional, usually auto-detected)
# AZURE_SUBSCRIPTION_ID=your-subscription-id

# ============================================================================
# Optional: Additional Tool Configuration
# ============================================================================
# Bing Search API (for web/market data queries)
# Only needed if your agent uses "bing_search" tool
# BING_SEARCH_API_KEY=your-bing-search-key

# SharePoint Integration (for internal documents)
# Only needed if your agent uses "sharepoint" tool
# SHAREPOINT_SITE_URL=https://yourorg.sharepoint.com/sites/yoursite
# SHAREPOINT_CONNECTION_ID=sharepoint-connection-id

